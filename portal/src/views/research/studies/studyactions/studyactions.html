   
<div ng-controller="StudyActionsCtrl" ng-cloak>   
   <div class="tab-content">
	    <div class="tab-pane active">	
	       <loader busy="status.isBusy !== false">
	       
	       <p class="alert alert-info" translate="studyactions.description"></p>
	       
	       <div ng-show="study.validationStatus == 'VALIDATED'">
	       <form name="myform" role="form" class="css-form form-horizontal" novalidate ng-submit="addApplication(myform)">
	         <formrow myid="group" label="Group">
	           <select ng-model="crit.group" class="form-control" ng-change="changedGroup()" ng-options="group.name as group.name for group in study.groups">
	             <option value="" translate="studyactions.allgroups"></option>
	           </select>
	         </formrow>
	       		   		   			  
		   <!--  <button class="btn btn-default" ng-click="addTask();" translate="studyactions.add_task_btn"></button> -->
           
           <div >
             <formrow myid="plugin" label="studyactions.plugin">
               <select name="plugin" id="plugin" ng-model="crit.plugin" class="form-control" ng-options="plugin as plugin.name for plugin in plugins" required></select>
             </formrow>
             <formrow myid="device" label="studyactions.device" ng-if ="crit.plugin.type=='mobile'">
               <input type="text" id="device" name="device"  ng-model="crit.device" class="form-control" required>
             </formrow>
              <formrow myid="shareback" label="studyactions.shareback">
               <div class="checkbox">
                 <label>
                   <input type="checkbox" name="shareback" id="shareback" ng-model="crit.shareback">
                 </label> 
               </div>
             </formrow>
             <formrow myid="restrictread" label="studyactions.restrict" ng-show="crit.group">
               <div class="checkbox">
                 <label>
                   <input type="checkbox" name="restrictread" id="restrictread" ng-model="crit.restrictread">
                 </label> 
               </div>
             </formrow>
            </div>
            
            <!-- <button type="button" class="btn btn-default" ng-click="setGroup();" translate="studyactions.select_group_btn"></button> -->
            <button type="submit" class="btn btn-default" ng-disabled="crit.plugin.type=='mobile' && group == null" translate="studyactions.add_application_btn"></button>          
     
           </form>                   
                      
           </div>
   		   </loader>
		</div>	
	</div>
	
	<div class="panel panel-primary" ng-show="me_menu.length">
	    <div class="panel-heading" translate="studyactions.linked_spaces">
	    </div>
	    <div class="panel-body">	
	       <table class="table table-striped"> 							
			<tr ng-repeat="entry in me_menu">
			  <td>
			  <a href="javascript:" ng-click="showSpace(entry)" translate="{{entry.name}}"></a>
			  <a href="javascript:" ng-click="deleteSpace(entry)" ng-disabled="status.action=='deleteConsent'" class="pull-right btn btn-danger btn-xs" translate="common.delete_btn"></a>
			  </td>
			</tr>
			</table>
        </div>	
	</div>
	
	
	 <div class="panel panel-primary" ng-show="consents.length">
	    <div class="panel-heading" translate="studyactions.linked_apps">
	    </div>
	    <div class="panel-body">
		<table class="table table-striped" ng-show="consents.length">

				<tr>
					<th translate="consents.name"></th>					
					<th translate="consents.status"></th>					
					<th translate="consents.number_of_records"></th>
					<th></th>
				</tr>
				<tr ng-repeat="consent in consents | orderBy : 'name'" ng-class="{ 'warning' : consent.status == 'UNCONFIRMED' }">
					<td><a ng-click="editConsent(consent);" href="javascript:">{{ consent.name }}</a></td>					
					<td translate="{{ 'enum.consentstatus.'+consent.status }}"></td>					
					<td>{{ consent.records }}</td>
					<td><button ng-click="deleteConsent(consent)" ng-disabled="status.action=='deleteConsent'" class="btn btn-danger btn-xs" translate="common.delete_btn"></button>
				</tr>
			</table>
		</div>
	</div>
	
	<div ng-include="'/views/shared/dashboard/dashboard.html'"></div>
</div>
