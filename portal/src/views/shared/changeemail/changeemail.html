<!--
 This file is part of the Open MIDATA Platform.
 
 The Open MIDATA platform is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 any later version.
 
 The Open MIDATA Platform is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with the Open MIDATA platform.  If not, see <http://www.gnu.org/licenses/>.
-->


<div ng-controller="ChangeEmailCtrl">

	<div ng-cloak class="panel panel-primary">
		<div class="panel-heading" translate="changeemail.title"></div>
		<div class="panel-body">
			<p ng-show="error && !error.field" translate="{{ error.code }}" ng-class="{ 'alert-warning' : error.level == 'warning', 'alert-danger' : !error.level }" class="alert">	            
	        </p>	
	        <div class="alert alert-success" ng-show="success" translate="changeemail.success">			   
			</div>
			<form name="myform" novalidate class="css-form form-horizontal" ng-submit="changeEmail()" role="form">

				<formrow myid="midataId" label="changeemail.midataId">
				  <p class="form-control-plaintext">{{ member.midataId }}<span ng-hide="member.midataId" translate="changeemail.none"></span></p>
                </formrow>
			    <formrow myid="name" label="changeemail.name">
				  <p class="form-control-plaintext">{{ member.firstname }} {{ member.lastname }}</p>
                </formrow>			  
				<formrow myid="oldEmail" label="changeemail.old_email">
				  <p class="form-control-plaintext">{{ member.email }}<span ng-hide="member.email" translate="changeemail.none"></span></p>
                </formrow>
				<formrow myid="email" label="changeemail.new_email"> 
				   <input type="text" class="form-control" id="email" name="email"
					translate translate-attr-placeholder="changeemail.new_email" ng-model="pw.email" required autocomplete="off">				   
			    </formrow>
				
				<button type="submit" ng-disabled="status.action=='changeEmail'" class="btn btn-primary" translate="changeemail.change_btn"></button>				
				
			</form>

		</div>
	</div>
</div>
