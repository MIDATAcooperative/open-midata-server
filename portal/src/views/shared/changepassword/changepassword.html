
<div ng-controller="ChangePasswordCtrl">

	<div ng-cloak class="panel panel-primary">
		<div class="panel-heading">Change Password</div>
		<div class="panel-body">
			<p ng-show="error && !error.field" ng-class="{ 'alert-warning' : error.level == 'warning', 'alert-danger' : !error.level }" class="alert">
	            {{ error.message || error }}
	        </p>	
	        <div class="alert alert-success" ng-show="success">
			   Password has been successfully changed!
			</div>
			<form name="myform" novalidate class="css-form form-horizontal" ng-submit="changePassword()" role="form">
			   <input type="text" style="display: none" id="fakeUsername" name="fakeUsername" value="" />
               <input type="password" style="display: none" id="fakePassword" name="fakePassword" value="" />
	
				<formrow myid="oldPassword" label="Old Password">
				<input type="text" class="form-control" id="oldPassword" name="oldPassword" placeholder="Old Password" ng-model="pw.oldPassword"
					required autocomplete="off"></formrow>
				<formrow myid="password" label="New Password"> <input type="password" class="form-control" id="password" name="password"
					placeholder="Password" ng-model="pw.password" required autocomplete="off"> <formerror myid="password" type="compare"
					message="Password and password repetition do not match!"></formerror> <formerror myid="password" type="tooshort"
					message="Passwords must be at least 8 characters long."></formerror> <formerror myid="password" type="tooweak"
					message="Passwords should contain of a mix of upper/lower case letters, numbers and special characters."></formerror> </formrow>
				<formrow myid="password2" label="Repeat Password">
				<input type="password" class="form-control" id="password2" name="password2" placeholder="Password" ng-model="pw.password2"
					required autocomplete="off"></formrow>
				
				<button type="submit" ng-disabled="status.isBusy=='changePassword'" class="btn btn-primary">Change Password</button>				
				
			</form>

		</div>
	</div>
</div>
