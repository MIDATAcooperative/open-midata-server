<!--
 This file is part of the Open MIDATA Server.
 
 The Open MIDATA Server is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 any later version.
 
 The Open MIDATA Server is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with the Open MIDATA Server.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="ignore autosize" ng-controller="SmallCirclesCtrl">
    <loader busy="status.isBusy !== false">
    <div ng-show="circles.length" class="body"><span class="dashnumber">{{ circles.length }}</span> <span translate="member_circles.number_available"></span></div>
    <div class="body text-center" ng-show="!status.isBusy && circles.length == 0" translate="member_circles.empty"></div>
    <p ng-hide="status.isBusy || circles.length" class="body teaser" translate="{{ view.teaser }}"></p>
    <ul class="list-group" ng-show="!status.isBusy && circles.length > 0">
		<li class="list-group-item rotate truncate" ng-repeat="circle in circles | limitTo : limit">
		    <div class="float-right" ng-if="view.setup.allowRemove">
			   <button type="button" class="btn btn-sm btn-danger" ng-click="removeRecord(record)">
				  <span class="fas fa-times"></span>
			   </button>
			</div>			    			
			<span ng-show="circle.ownerName" class="badge badge-info">{{ circle.ownerName }}</span>					
			<a href="javascript:;" ui-sref="^.circles({ circleId : circle._id })">{{circle.name}}</a>
												
		</li>
	</ul>
	<div class="footer container">
	  
	   <div class="form-group form-row" ng-class="{'has-error has-feedback': errors.newCircleName}">
	    <div class="col-8">
	   <div class="input-group" >
          <input type="text" class="form-control" ng-model="form.newCircleName" placeholder="Circle Name">          
          <span class="input-group-append">
             <button ng-click="createCircle();" class="btn btn-default" type="button" translate="member_circles.add_btn"></button>
          </span>          
       </div>       
       </div>
	   <div class="col-4">
	     <a class="btn btn-default" ui-sref="^.circles" translate="member_circles.manage_btn"></a>
	   </div>
	  </div>
	</div>
	</loader>	
</div>