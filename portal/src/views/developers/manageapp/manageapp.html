
	<div  ng-controller="ManageAppCtrl">
		
		<div class="panel panel-primary">
		<div class="panel-heading">
		  	<p ng-hide="app._id">Register a new plugin</p>
			<p ng-show="app._id">Manage Plugin</p>
		</div>
		<div class="body">
		
		<form class="form-horizontal" ng-submit="updateApp()">
		  <formrow myid="filename" label="Internal Name">
		    <input type="text" id="filename" class="form-control" placeholder="Filename" ng-model="app.filename" autofocus>
		  </formrow>
		  <formrow myid="targetUserRole" label="Target Role">
		    <select id="targetUserRole" class="form-control" ng-model="app.targetUserRole" ng-options="role.value as role.label for role in targetUserRoles"></select>
		  </formrow>
		  <formrow myid="type" label="Type">
		    <select id="type" class="form-control" ng-model="app.type" ng-options="type.value as type.label for type in types"></select>
		  </formrow>		  		  
		  <hr>
		  <formrow myid="name" label="Name">
		    <input type="text" id="name" class="form-control" placeholder="Name" ng-model="app.name">
		  </formrow>
		  <formrow myid="description" label="Description">
		    <textarea rows="5" id="description" class="form-control" placeholder="Description" ng-model="app.description"></textarea>
		  </formrow>
		  <formrow myid="defaultSpaceName" label="Tile Name" ng-show="app.type != 'mobile'">
		    <input type="text" id="defaultSpaceName" class="form-control" placeholder="Tile Name" ng-model="app.defaultSpaceName">
		  </formrow>
		 
		  <hr>
		  <formrow myid="x" label="Multi Language Support">
		    <div class="help-block">
		    <span ng-repeat="l in languages">
		      <span ng-show="app.i18n[l].name"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span>{{l}} </span>		      
		    </span>
		    </div>
		  </formrow>
		  <formrow myid="type" label="I18n Language Selection">
		    <select id="type" class="form-control" ng-model="sel.lang" ng-options="lang for lang in languages"></select>		    
		  </formrow>
		  <formrow myid="name_i18n" label="I18n Name">		    
		    <input type="text" id="name_i18n" class="form-control" placeholder="Name" ng-model="app.i18n[sel.lang].name">
		  </formrow>
		  <formrow myid="description_i18n" label="I18n Description">
		    <textarea rows="5" id="description_i18n" class="form-control" placeholder="Description" ng-model="app.i18n[sel.lang].description"></textarea>
		  </formrow>
		  <formrow myid="defaultSpaceName_i18n" label="I18n Tile Name" ng-show="app.type != 'mobile'">		    
		    <input type="text" id="defaultSpaceName_i18n" class="form-control" placeholder="Tile Name" ng-model="app.i18n[sel.lang].defaultSpaceName">
		  </formrow>
		  <hr>		  
		  <formrow myid="tags" label="Tags">
		    <div class="checkbox" ng-repeat="tagdef in tags">
		      <label>
		        <input type="checkbox" ng-checked="app.tags.indexOf(tagdef)>=0" ng-click="toggle(app.tags, tagdef)">
		        {{ tagdef }}
		      </label>
		    </div>
		  </formrow>  		
		  <formrow myid="url" label="URL" ng-hide="app.type == 'mobile'">
		    <input type="text" id="url" class="form-control" placeholder="URL (must include &quot;:authToken&quot;)" ng-model="app.url">
		  </formrow>
		  <formrow myid="previewUrl" label="Dashboard Tile URL" ng-hide="app.type == 'mobile'">
		    <input type="text" id="previewUrl" class="form-control" placeholder="URL (must include &quot;:authToken&quot;)" ng-model="app.previewUrl">
		  </formrow>		 
		  <formrow myid="defaultSpaceContext" label="Default Dashboard" ng-show="app.type != 'mobile'">
		    <input type="text" id="defaultSpaceContext" class="form-control" placeholder="Dashboard Name" ng-model="app.defaultSpaceContext">
		  </formrow>
		  <formrow myid="defaultQuery" label="Access Query(JSON)">
		    <textarea rows="5" id="defaultQuery" class="form-control" placeholder="Description" ng-model="app.defaultQueryStr"></textarea>
		  </formrow>		 
		  <formrow myid="authorizationUrl" label="Authorization URL" ng-show="app.type == 'oauth1' || app.type == 'oauth2'">
		    <input type="text" id="authorizationUrl" class="form-control" placeholder="Authorization URL" ng-model="app.authorizationUrl">
		  </formrow>
		  <formrow myid="accessTokenUrl" label="Access Token URL" ng-show="app.type == 'oauth1' || app.type == 'oauth2'">
		    <input type="text" id="accessTokenUrl" class="form-control" placeholder="Access token URL" ng-model="app.accessTokenUrl">
		  </formrow>
		  <formrow myid="consumerKey" label="Consumer Key" ng-show="app.type == 'oauth1' || app.type == 'oauth2'">
		    <input type="text" id="consumerKey" class="form-control" placeholder="Consumer key" ng-model="app.consumerKey">
		  </formrow>
		  <formrow myid="consumerSecret" label="Consumer Secret" ng-show="app.type == 'oauth1' || app.type == 'oauth2'">
		    <input type="text" id="consumerSecret" class="form-control" placeholder="Consumer secret" ng-model="app.consumerSecret">
		  </formrow>
		  <formrow myid="requestTokenUrl" label="Request Token URL" ng-show="app.type == 'oauth1'">
		    <input type="text" id="requestTokenUrl" class="form-control" placeholder="Request token URL" ng-model="app.requestTokenUrl">
		  </formrow>
		  <formrow myid="scopeParameters" label="Scope Parameters" ng-show="app.type == 'oauth2'">
		    <input type="text" id="scopeParameters" class="form-control" placeholder="Scope parameters" ng-model="app.scopeParameters">
		  </formrow>
		  <formrow myid="secret" label="Application Secret" ng-show="app.type == 'mobile'">
		    <input type="text" id="secret" class="form-control" placeholder="Secret" ng-model="app.secret">
		  </formrow>
		  <formrow myid="redirectUri" label="Redirect URI (optional, required for OAuth2 login)" ng-show="app.type == 'mobile'">
		    <input type="text" id="redirectUri" class="form-control" placeholder="Redirect URI" ng-model="app.redirectUri">
		  </formrow>
		   <formrow myid="developmentServer" label="Development Server" ng-hide="app.type == 'mobile' || !app.developmentServer">
		    <p class="form-control-static">{{ app.developmentServer }}</p>
		  </formrow>
		  <formrow myid="x" label="">
		    <button type="submit" ng-disabled="status.action=='submit'" class="btn btn-primary">Submit</button>
		    <button type="button" class="btn btn-default" ng-click="doInstall()" ng-hide="app.type == 'mobile'" ng-disabled="app._id == null">Install from localhost</button>
		    <a class="btn btn-default" ui-sref="^.autoimport({ appId : app._id })" ng-show="app.type == 'oauth1' || app.type == 'oauth2'" ng-disabled="app._id == null">Serverside Import Test</a>
		    <button type="button" class="btn btn-danger" ng-show="allowDelete" ng-click="doDelete()" ng-disabled="status.action=='delete'">Delete</button>
		  </formrow>
	     </form>	  
		  
		
	</div>
	</div></div>