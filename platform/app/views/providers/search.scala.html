@import views.html.help.formrow
@import views.html.help.formerror
@providermain("Patient Search") {
<div ng-app="search" ng-controller="MemberSearchCtrl" ng-cloak>
	<h1>Patient Search</h1>
	<form name="myform" novalidate class="css-form form-horizontal" ng-submit="dosearch()" role="form">								  	  
	  @formrow("midataID","Midata ID") {  <input type="text" class="form-control" id="midataID" name="midataID" ng-model="criteria.midataID" > }
	  @formrow("birthday","Birthday") {  <input type="text" class="form-control" id="birthday" name="birthday" ng-model="criteria.birthday" > }							  							  	  
      @formrow("x","") {
        <button type="submit" class="btn btn-primary">Search</button>
      }
    </form>
    
    <div ng-show="member">
    <address>	
	  <strong>{{ member.firstname }} {{ member.sirname }}</strong><br>
	{{ member.address1 }}<br>
	{{ member.address2 }}<br>
	{{ member.zip }} {{ member.city }}<br>
	{{ member.country }}<br>
	  <span ng-show="member.phone">Phone: {{ member.phone }}</span><br>
	  <span ng-show="member.mobile">Mobile: {{ member.mobile }}</span><br>
	  <span ng-show="member.ssn">SSN: {{ member.ssn }}</span><br>
	  <span ng-show="member.email">Email: {{ member.email }}</span><br>
    </address>	
               <div class="btn-group" ng-show="!loadingApps && apps.length > 0">
					<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
						<span class="glyphicon glyphicon-plus"></span> Create or import a new record
					</button>
					<ul class="dropdown-menu" role="menu">
						<li ng-repeat="app in apps">
							<a href="javascript:;" ng-click="createOrImport(app)">{{app.name}}</a>
						</li>
					</ul>
			   </div>
			   
			    <div class="btn-group" ng-show="!loadingVisualizations && visualizations.length > 0">
					<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
						<span class="glyphicon glyphicon-plus"></span> Use a visualization
					</button>
					<ul class="dropdown-menu" role="menu">
						<li ng-repeat="visualization in visualizations">
							<a href="javascript:;" ng-click="useVisualization(visualization)">{{visualization.name}}</a>
						</li>
					</ul>
			   </div>
			   
    </div>
    
	<p ng-show="loading">Searching...</p>
</div>
<script type="text/javascript" src="@routes.Assets.at("javascripts/providers/search.js")" defer></script>
}
