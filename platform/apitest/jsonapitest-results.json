[
  {
    "suite": "Login Tests",
    "test": "bad password",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "Content-Type": "application/json"
        },
        "method": "POST",
        "params": {
          "email": "testuser@midata.coop",
          "password": "wrongPassword"
        },
        "url": "https://test.midata.coop:9000/members/api/login"
      },
      "status": 400,
      "assert": {
        "equal_keys": {
          "code": "error.invalid.credentials"
        }
      }
    },
    "errors": [],
    "response": {
      "status": 400,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:12 GMT",
        "content-type": "application/json; charset=utf-8",
        "content-length": "74",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*"
      },
      "body": {
        "code": "error.invalid.credentials",
        "message": "Invalid user or password."
      },
      "response_time": 312
    },
    "test_description": "login Account User with bad password"
  },
  {
    "suite": "Member browse pages",
    "test": "login",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "Content-Type": "application/json"
        },
        "method": "POST",
        "params": {
          "email": "testuser@midata.coop",
          "password": "TESTtest1234"
        },
        "url": "https://test.midata.coop:9000/members/api/login"
      },
      "status": 200,
      "assert": {
        "schema": {
          "type": "object",
          "properties": {
            "sessionToken": {
              "type": "string"
            },
            "role": {
              "type": "string"
            },
            "lastLogin": {
              "type": "integer"
            },
            "keyType": {
              "type": "integer"
            },
            "subroles": {
              "type": "array"
            }
          },
          "required": [
            "sessionToken",
            "lastLogin",
            "keyType",
            "subroles"
          ],
          "additionalProperties": false
        }
      },
      "save": {
        "session": "body.sessionToken"
      }
    },
    "errors": [],
    "response": {
      "status": 200,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:13 GMT",
        "content-type": "application/json; charset=utf-8",
        "content-length": "312",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*",
        "x-frame-options": "DENY",
        "x-xss-protection": "1; mode=block",
        "x-content-type-options": "nosniff",
        "strict-transport-security": "max-age=31536000"
      },
      "body": {
        "sessionToken": "gT4P9Sym5-ZExmWe7imSI3A8U527r5Te_O2IA-eMWbL_lsuYbXz-CpauU5m6rbH0OEoF_ysMcRUsNvdY-iuHZ9bAqoUJzSS8pJToOjKfrosXju7rVRZpK6618FAcFsqS68-q-AAIM8YD7OIWHrmwsOyoTeArigsgk8PytGodl2MDPLwrqkX7wwzO7gJkR7MhzlJYL3_Qp9NbAa5yau9lFA",
        "keyType": 0,
        "role": "member",
        "subroles": [
          "TRIALUSER"
        ],
        "lastLogin": 1481108245558
      },
      "response_time": 231
    },
    "test_description": "login user"
  },
  {
    "suite": "Member browse pages",
    "test": "get user id",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "X-Session-Token": "gT4P9Sym5-ZExmWe7imSI3A8U527r5Te_O2IA-eMWbL_lsuYbXz-CpauU5m6rbH0OEoF_ysMcRUsNvdY-iuHZ9bAqoUJzSS8pJToOjKfrosXju7rVRZpK6618FAcFsqS68-q-AAIM8YD7OIWHrmwsOyoTeArigsgk8PytGodl2MDPLwrqkX7wwzO7gJkR7MhzlJYL3_Qp9NbAa5yau9lFA"
        },
        "method": "GET",
        "url": "https://test.midata.coop:9000/shared/api/users/current"
      },
      "status": 200,
      "assert": {
        "schema": {
          "type": "object",
          "properties": {
            "role": {
              "type": "string"
            },
            "user": {
              "type": "string"
            }
          },
          "required": [
            "role",
            "user"
          ],
          "additionalProperties": false
        }
      },
      "save": {
        "member.id": "body.user"
      }
    },
    "errors": [],
    "response": {
      "status": 200,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:13 GMT",
        "content-type": "application/json; charset=utf-8",
        "content-length": "51",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*",
        "x-frame-options": "DENY",
        "x-xss-protection": "1; mode=block",
        "x-content-type-options": "nosniff",
        "strict-transport-security": "max-age=31536000"
      },
      "body": {
        "role": "MEMBER",
        "user": "5847e6f979c721c276f5f7c2"
      },
      "response_time": 182
    },
    "test_description": "try to get current user id"
  },
  {
    "suite": "Member browse pages",
    "test": "get config",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "X-Session-Token": "gT4P9Sym5-ZExmWe7imSI3A8U527r5Te_O2IA-eMWbL_lsuYbXz-CpauU5m6rbH0OEoF_ysMcRUsNvdY-iuHZ9bAqoUJzSS8pJToOjKfrosXju7rVRZpK6618FAcFsqS68-q-AAIM8YD7OIWHrmwsOyoTeArigsgk8PytGodl2MDPLwrqkX7wwzO7gJkR7MhzlJYL3_Qp9NbAa5yau9lFA"
        },
        "method": "GET",
        "url": "https://test.midata.coop:9000/portal/config"
      },
      "status": 200
    },
    "errors": [],
    "response": {
      "status": 200,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:13 GMT",
        "content-length": "0",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*",
        "x-frame-options": "DENY",
        "x-xss-protection": "1; mode=block",
        "x-content-type-options": "nosniff",
        "strict-transport-security": "max-age=31536000"
      },
      "body": "",
      "response_time": 180
    },
    "test_description": "try to get config"
  },
  {
    "suite": "Member browse pages",
    "test": "list tasks",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "X-Session-Token": "gT4P9Sym5-ZExmWe7imSI3A8U527r5Te_O2IA-eMWbL_lsuYbXz-CpauU5m6rbH0OEoF_ysMcRUsNvdY-iuHZ9bAqoUJzSS8pJToOjKfrosXju7rVRZpK6618FAcFsqS68-q-AAIM8YD7OIWHrmwsOyoTeArigsgk8PytGodl2MDPLwrqkX7wwzO7gJkR7MhzlJYL3_Qp9NbAa5yau9lFA"
        },
        "method": "POST",
        "url": "https://test.midata.coop:9000/shared/api/tasks/list"
      },
      "status": 200
    },
    "errors": [],
    "response": {
      "status": 200,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:13 GMT",
        "content-type": "application/json; charset=utf-8",
        "content-length": "2",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*",
        "x-frame-options": "DENY",
        "x-xss-protection": "1; mode=block",
        "x-content-type-options": "nosniff",
        "strict-transport-security": "max-age=31536000"
      },
      "body": [],
      "response_time": 179
    },
    "test_description": "list tasks of user"
  },
  {
    "suite": "Member browse pages",
    "test": "list spaces",
    "api_call": {
      "request": {
        "headers": {
          "Accept": "application/json, text/plain, */*",
          "X-Session-Token": "gT4P9Sym5-ZExmWe7imSI3A8U527r5Te_O2IA-eMWbL_lsuYbXz-CpauU5m6rbH0OEoF_ysMcRUsNvdY-iuHZ9bAqoUJzSS8pJToOjKfrosXju7rVRZpK6618FAcFsqS68-q-AAIM8YD7OIWHrmwsOyoTeArigsgk8PytGodl2MDPLwrqkX7wwzO7gJkR7MhzlJYL3_Qp9NbAa5yau9lFA",
          "Content-Type": "application/json"
        },
        "method": "POST",
        "params": {
          "properties": {
            "owner": "5847e6f979c721c276f5f7c2",
            "context": "me"
          },
          "fields": [
            "name",
            "records",
            "visualization",
            "app",
            "order"
          ]
        },
        "url": "https://test.midata.coop:9000/members/api/spaces/get"
      },
      "status": 200
    },
    "errors": [],
    "response": {
      "status": 200,
      "headers": {
        "server": "nginx/1.10.0 (Ubuntu)",
        "date": "Wed, 07 Dec 2016 11:00:13 GMT",
        "content-type": "text/plain; charset=utf-8",
        "content-length": "2",
        "connection": "close",
        "access-control-allow-credentials": "true",
        "access-control-allow-headers": "Origin, X-Requested-With, Content-Type, Accept, Referer, User-Agent, Set-Cookie, Cookie, X-Session-Token",
        "access-control-allow-methods": "POST, GET, PUT, DELETE, OPTIONS, PATCH",
        "access-control-allow-origin": "https://test.midata.coop",
        "allow": "*",
        "x-frame-options": "DENY",
        "x-xss-protection": "1; mode=block",
        "x-content-type-options": "nosniff",
        "strict-transport-security": "max-age=31536000"
      },
      "body": "[]",
      "response_time": 181
    },
    "test_description": "list spaces of user"
  }
]