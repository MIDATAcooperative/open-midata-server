<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_131) on Fri May 12 11:42:21 CEST 2017 -->
<title>RecordManager</title>
<meta name="date" content="2017-05-12">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RecordManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RecordManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../utils/access/RecordLifecycle.html" title="class in utils.access"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../utils/access/VersionedDBRecord.html" title="class in utils.access"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?utils/access/RecordManager.html" target="_top">Frames</a></li>
<li><a href="RecordManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">utils.access</div>
<h2 title="Class RecordManager" class="title">Class RecordManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>utils.access.RecordManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RecordManager</span>
extends java.lang.Object</pre>
<div class="block">Access to records. Manages authorizations using access permission sets.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#COMPLETE_DATA">COMPLETE_DATA</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#COMPLETE_DATA_WITH_WATCHES">COMPLETE_DATA_WITH_WATCHES</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#COMPLETE_META">COMPLETE_META</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#FULLAPS">FULLAPS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#FULLAPS_FLAT">FULLAPS_FLAT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#FULLAPS_FLAT_OWNER">FULLAPS_FLAT_OWNER</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#FULLAPS_WITHSTREAMS">FULLAPS_WITHSTREAMS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../utils/access/RecordManager.html" title="class in utils.access">RecordManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#instance">instance</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#INTERNALID_AND_WACTHES">INTERNALID_AND_WACTHES</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#INTERNALIDONLY">INTERNALIDONLY</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#STREAMS_ONLY">STREAMS_ONLY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#STREAMS_ONLY_OWNER">STREAMS_ONLY_OWNER</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#RecordManager--">RecordManager</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#addDocumentRecord-models.MidataId-models.Record-java.util.Collection-">addDocumentRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                 <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
                 java.util.Collection&lt;<a href="../../models/Record.html" title="class in models">Record</a>&gt;&nbsp;parts)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#addRecord-models.MidataId-models.Record-">addRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
         <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record)</code>
<div class="block">add a new record to the database</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#addRecord-models.MidataId-models.Record-models.MidataId-">addRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
         <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
         <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;alternateAps)</code>
<div class="block">Add a new record to the database and give access not only to the owner APS but to a second APS
 
 This function is useful if a record needs to be added by another person that does not have 
 access to the record owners APS.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#addRecord-models.MidataId-models.Record-models.MidataId-java.io.InputStream-java.lang.String-java.lang.String-">addRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
         <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
         <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;alternateAps,
         java.io.InputStream&nbsp;data,
         java.lang.String&nbsp;fileName,
         java.lang.String&nbsp;contentType)</code>
<div class="block">Add a new record containing an attachment to the database</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#applyQuery-models.MidataId-java.util.Map-models.MidataId-models.MidataId-boolean-">applyQuery</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId,
          java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query,
          <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;sourceaps,
          <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetaps,
          boolean&nbsp;ownerInformation)</code>
<div class="block">Share stream records from one APS to another by applying a query once.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#checkRecordsInAPS-models.MidataId-models.MidataId-boolean-">checkRecordsInAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId,
                 <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                 boolean&nbsp;instreams)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#clear--">clear</a></span>()</code>
<div class="block">clears APS cache.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#clearCache--">clearCache</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../models/MidataId.html" title="class in models">MidataId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#createAnonymizedAPS-models.MidataId-models.MidataId-models.MidataId-boolean-">createAnonymizedAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;other,
                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;proposedId,
                   boolean&nbsp;consent)</code>
<div class="block">creates an access permission set where the owner and one other person have access</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../models/MidataId.html" title="class in models">MidataId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#createAPSForRecord-models.MidataId-models.MidataId-models.MidataId-byte:A-boolean-">createAPSForRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;recordId,
                  byte[]&nbsp;key,
                  boolean&nbsp;direct)</code>
<div class="block">create an APS for a record.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../models/MidataId.html" title="class in models">MidataId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#createPrivateAPS-models.MidataId-models.MidataId-">createPrivateAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;proposedId)</code>
<div class="block">create a new access permission where only the owner has access</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#deleteAPS-models.MidataId-models.MidataId-">deleteAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
         <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId)</code>
<div class="block">Delete an access permission set</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../models/Record.html" title="class in models">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#fetch-models.MidataId-models.MidataId-models.MidataId-">fetch</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;aps,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;recordId)</code>
<div class="block">Lookup a single record by providing its id and the APS from where it is accessible</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../models/Record.html" title="class in models">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#fetch-models.MidataId-utils.auth.RecordToken-">fetch</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
     <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token)</code>
<div class="block">Lookup a single record by providing a RecordToken</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="../../models/Record.html" title="class in models">Record</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#fetch-models.MidataId-utils.auth.RecordToken-java.util.Set-">fetch</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
     <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token,
     java.util.Set&lt;java.lang.String&gt;&nbsp;fields)</code>
<div class="block">Lookup a single record by providing a RecordToken and return only requested fields</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../utils/db/FileStorage.FileData.html" title="class in utils.db">FileStorage.FileData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#fetchFile-models.MidataId-utils.auth.RecordToken-">fetchFile</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
         <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token)</code>
<div class="block">Lookup a single record by providing a RecordToken and return the attachment of the record</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#fixAccount-models.MidataId-">fixAccount</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId)</code>
<div class="block">removes info objects and all indexes for the current account</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>org.bson.BSONObject</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#getMeta-models.MidataId-models.MidataId-java.lang.String-">getMeta</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
       java.lang.String&nbsp;key)</code>
<div class="block">read a meta data object from an APS</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../models/RecordsInfo.html" title="class in models">RecordsInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#info-models.MidataId-models.MidataId-java.util.Map-models.enums.AggregationType-">info</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;aps,
    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
    <a href="../../models/enums/AggregationType.html" title="enum in models.enums">AggregationType</a>&nbsp;aggrType)</code>
<div class="block">computes a summary of records</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../models/Record.html" title="class in models">Record</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#list-models.MidataId-models.MidataId-java.util.Map-java.util.Set-">list</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
    java.util.Set&lt;java.lang.String&gt;&nbsp;fields)</code>
<div class="block">Query for records matching some criteria.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#listRecordIds-models.MidataId-models.MidataId-">listRecordIds</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
             <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId)</code>
<div class="block">Return a set with all record ids accessible from an APS</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#listRecordIds-models.MidataId-models.MidataId-java.util.Map-">listRecordIds</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
             <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
             java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties)</code>
<div class="block">Return a set with all record ids of records matching some criteria accessible from an APS</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#materialize-models.MidataId-models.MidataId-">materialize</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
           <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetAPS)</code>
<div class="block">Materialize the query results of an APS into the APS and remove the query</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#patch20160407-models.MidataId-">patch20160407</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who)</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#removeMeta-models.MidataId-models.MidataId-java.lang.String-">removeMeta</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
          <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
          java.lang.String&nbsp;key)</code>
<div class="block">remove a meta data object from an APS</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#setAccountOwner-models.MidataId-models.MidataId-">setAccountOwner</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executor,
               <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;accountOwner)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#setMeta-models.MidataId-models.MidataId-java.lang.String-java.util.Map-">setMeta</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
       java.lang.String&nbsp;key,
       java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;data)</code>
<div class="block">store a meta data object into an APS</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#share-models.MidataId-models.MidataId-models.MidataId-models.MidataId-java.util.Set-boolean-">share</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPSOwner,
     java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records,
     boolean&nbsp;withOwnerInformation)</code>
<div class="block">share records contained in an APS to another APS</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#share-models.MidataId-models.MidataId-models.MidataId-java.util.Set-boolean-">share</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
     java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records,
     boolean&nbsp;withOwnerInformation)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#shareAPS-models.MidataId-models.MidataId-models.MidataId-byte:A-">shareAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
        <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
        <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetId,
        byte[]&nbsp;publickey)</code>
<div class="block">share access permission set content with another entity that has a public key</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#shareAPS-models.MidataId-models.MidataId-java.util.Set-">shareAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
        <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
        java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)</code>
<div class="block">share access permission set content with other users</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#shareByQuery-models.MidataId-models.MidataId-models.MidataId-java.util.Map-">shareByQuery</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
            <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
            <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
            java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query)</code>
<div class="block">set a query that dynamically shares records from one APS to another APS.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#unshare-models.MidataId-models.MidataId-java.util.Set-">unshare</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
       java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records)</code>
<div class="block">remove records from an APS</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#unshareAPS-models.MidataId-models.MidataId-java.util.Set-">unshareAPS</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
          <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
          java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)</code>
<div class="block">remove access permissions of given users from an APS</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#unshareAPSRecursive-models.MidataId-models.MidataId-java.util.Set-">unshareAPSRecursive</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
                   java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)</code>
<div class="block">remove access permissions of given users from an APS and all streams contained in it.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#updateRecord-models.MidataId-models.MidataId-models.Record-">updateRecord</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
            <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
            <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record)</code>
<div class="block">update a record in the database</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../utils/access/RecordManager.html#wipe-models.MidataId-java.util.Map-">wipe</a></span>(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query)</code>
<div class="block">Wipe records from the system.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>public static&nbsp;<a href="../../utils/access/RecordManager.html" title="class in utils.access">RecordManager</a> instance</pre>
</li>
</ul>
<a name="FULLAPS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FULLAPS</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; FULLAPS</pre>
</li>
</ul>
<a name="FULLAPS_WITHSTREAMS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FULLAPS_WITHSTREAMS</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; FULLAPS_WITHSTREAMS</pre>
</li>
</ul>
<a name="FULLAPS_FLAT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FULLAPS_FLAT</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; FULLAPS_FLAT</pre>
</li>
</ul>
<a name="FULLAPS_FLAT_OWNER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FULLAPS_FLAT_OWNER</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; FULLAPS_FLAT_OWNER</pre>
</li>
</ul>
<a name="INTERNALIDONLY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INTERNALIDONLY</h4>
<pre>public static final&nbsp;java.util.Set&lt;java.lang.String&gt; INTERNALIDONLY</pre>
</li>
</ul>
<a name="INTERNALID_AND_WACTHES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INTERNALID_AND_WACTHES</h4>
<pre>public static final&nbsp;java.util.Set&lt;java.lang.String&gt; INTERNALID_AND_WACTHES</pre>
</li>
</ul>
<a name="COMPLETE_META">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMPLETE_META</h4>
<pre>public static final&nbsp;java.util.Set&lt;java.lang.String&gt; COMPLETE_META</pre>
</li>
</ul>
<a name="COMPLETE_DATA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMPLETE_DATA</h4>
<pre>public static final&nbsp;java.util.Set&lt;java.lang.String&gt; COMPLETE_DATA</pre>
</li>
</ul>
<a name="COMPLETE_DATA_WITH_WATCHES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMPLETE_DATA_WITH_WATCHES</h4>
<pre>public static final&nbsp;java.util.Set&lt;java.lang.String&gt; COMPLETE_DATA_WITH_WATCHES</pre>
</li>
</ul>
<a name="STREAMS_ONLY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STREAMS_ONLY</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; STREAMS_ONLY</pre>
</li>
</ul>
<a name="STREAMS_ONLY_OWNER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>STREAMS_ONLY_OWNER</h4>
<pre>public static final&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt; STREAMS_ONLY_OWNER</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RecordManager--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RecordManager</h4>
<pre>public&nbsp;RecordManager()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setAccountOwner-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAccountOwner</h4>
<pre>public&nbsp;void&nbsp;setAccountOwner(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executor,
                            <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;accountOwner)
                     throws <a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></code></dd>
</dl>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">clears APS cache. Is automatically called after each request.</div>
</li>
</ul>
<a name="clearCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearCache</h4>
<pre>public&nbsp;void&nbsp;clearCache()</pre>
</li>
</ul>
<a name="createPrivateAPS-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createPrivateAPS</h4>
<pre>public&nbsp;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;createPrivateAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                 <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;proposedId)
                          throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">create a new access permission where only the owner has access</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - ID of APS owner</dd>
<dd><code>proposedId</code> - ID of APS to be created</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID of APS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="createAnonymizedAPS-models.MidataId-models.MidataId-models.MidataId-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAnonymizedAPS</h4>
<pre>public&nbsp;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;createAnonymizedAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;other,
                                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;proposedId,
                                    boolean&nbsp;consent)
                             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">creates an access permission set where the owner and one other person have access</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>owner</code> - ID of APS owner</dd>
<dd><code>other</code> - ID of other person</dd>
<dd><code>proposedId</code> - ID of APS to be created</dd>
<dd><code>consent</code> - APS is part of consent</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID of APS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="createAPSForRecord-models.MidataId-models.MidataId-models.MidataId-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAPSForRecord</h4>
<pre>public&nbsp;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;createAPSForRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;recordId,
                                   byte[]&nbsp;key,
                                   boolean&nbsp;direct)
                            throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">create an APS for a record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - ID of person who does this request</dd>
<dd><code>owner</code> - ID of owner of future APS</dd>
<dd><code>recordId</code> - ID of record</dd>
<dd><code>key</code> - key this record is encrypted with</dd>
<dd><code>direct</code> - true for an access permission set which encrypts all records with the APS key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ID of APS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></code></dd>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="shareAPS-models.MidataId-models.MidataId-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shareAPS</h4>
<pre>public&nbsp;void&nbsp;shareAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
                     java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)
              throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">share access permission set content with other users</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apsId</code> - ID of APS</dd>
<dd><code>executorId</code> - ID of executor having permission of APS</dd>
<dd><code>targetUsers</code> - IDs of user to share APS with</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="shareAPS-models.MidataId-models.MidataId-models.MidataId-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shareAPS</h4>
<pre>public&nbsp;void&nbsp;shareAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetId,
                     byte[]&nbsp;publickey)
              throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">share access permission set content with another entity that has a public key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apsId</code> - ID of APS</dd>
<dd><code>executorId</code> - ID of executor having permission of APS</dd>
<dd><code>targetId</code> - ID of target entity</dd>
<dd><code>publickey</code> - public key of target entity</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="unshareAPS-models.MidataId-models.MidataId-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unshareAPS</h4>
<pre>public&nbsp;void&nbsp;unshareAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
                       java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)
                throws <a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></pre>
<div class="block">remove access permissions of given users from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apsId</code> - ID of APS</dd>
<dd><code>executorId</code> - ID of executing person</dd>
<dd><code>targetUsers</code> - set of IDs of target users</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></code></dd>
</dl>
</li>
</ul>
<a name="unshareAPSRecursive-models.MidataId-models.MidataId-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unshareAPSRecursive</h4>
<pre>public&nbsp;void&nbsp;unshareAPSRecursive(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                                <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId,
                                java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;targetUsers)
                         throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">remove access permissions of given users from an APS and all streams contained in it.
 access to streams may be regained if accessable from another APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apsId</code> - ID of APS</dd>
<dd><code>executorId</code> - ID of executing person</dd>
<dd><code>targetUsers</code> - set of IDs of target users</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="share-models.MidataId-models.MidataId-models.MidataId-java.util.Set-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>share</h4>
<pre>public&nbsp;void&nbsp;share(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
                  java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records,
                  boolean&nbsp;withOwnerInformation)
           throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="share-models.MidataId-models.MidataId-models.MidataId-models.MidataId-java.util.Set-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>share</h4>
<pre>public&nbsp;void&nbsp;share(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
                  <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPSOwner,
                  java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records,
                  boolean&nbsp;withOwnerInformation)
           throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">share records contained in an APS to another APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - ID of executing person</dd>
<dd><code>fromAPS</code> - ID of source APS</dd>
<dd><code>toAPS</code> - ID of target APS</dd>
<dd><code>records</code> - set of record IDs or null for complete APS</dd>
<dd><code>withOwnerInformation</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="shareByQuery-models.MidataId-models.MidataId-models.MidataId-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shareByQuery</h4>
<pre>public&nbsp;void&nbsp;shareByQuery(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                         <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;fromAPS,
                         <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;toAPS,
                         java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query)
                  throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">set a query that dynamically shares records from one APS to another APS.
  
 this operation will only work if all accessors of the target APS also have access to the source APS
 so this is only useful for APS of spaces</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of user who must be owner and executing person</dd>
<dd><code>fromAPS</code> - id of APS to share records from</dd>
<dd><code>toAPS</code> - id of APS to share records into</dd>
<dd><code>query</code> - the query to be applied to the records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="materialize-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>materialize</h4>
<pre>public&nbsp;void&nbsp;materialize(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                        <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetAPS)
                 throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Materialize the query results of an APS into the APS and remove the query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - executing person</dd>
<dd><code>targetAPS</code> - the APS with a query redirect</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="unshare-models.MidataId-models.MidataId-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unshare</h4>
<pre>public&nbsp;void&nbsp;unshare(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                    java.util.Set&lt;<a href="../../models/MidataId.html" title="class in models">MidataId</a>&gt;&nbsp;records)
             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">remove records from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of target APS</dd>
<dd><code>records</code> - set of record ids to remove from APS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMeta-models.MidataId-models.MidataId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMeta</h4>
<pre>public&nbsp;org.bson.BSONObject&nbsp;getMeta(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                                   java.lang.String&nbsp;key)
                            throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">read a meta data object from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to read from</dd>
<dd><code>key</code> - unique name of meta data object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="setMeta-models.MidataId-models.MidataId-java.lang.String-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMeta</h4>
<pre>public&nbsp;void&nbsp;setMeta(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                    java.lang.String&nbsp;key,
                    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;data)
             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">store a meta data object into an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to save into</dd>
<dd><code>key</code> - unique name of meta data object</dd>
<dd><code>data</code> - key,value map containing the data to be stored</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="removeMeta-models.MidataId-models.MidataId-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeMeta</h4>
<pre>public&nbsp;void&nbsp;removeMeta(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                       java.lang.String&nbsp;key)
                throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">remove a meta data object from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to save into</dd>
<dd><code>key</code> - unique name of meta data object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="addDocumentRecord-models.MidataId-models.Record-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDocumentRecord</h4>
<pre>public&nbsp;void&nbsp;addDocumentRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;owner,
                              <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
                              java.util.Collection&lt;<a href="../../models/Record.html" title="class in models">Record</a>&gt;&nbsp;parts)
                       throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="addRecord-models.MidataId-models.Record-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRecord</h4>
<pre>public&nbsp;void&nbsp;addRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                      <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record)
               throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">add a new record to the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - id of executing person</dd>
<dd><code>record</code> - the record to be saved</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="addRecord-models.MidataId-models.Record-models.MidataId-java.io.InputStream-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRecord</h4>
<pre>public&nbsp;void&nbsp;addRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                      <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
                      <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;alternateAps,
                      java.io.InputStream&nbsp;data,
                      java.lang.String&nbsp;fileName,
                      java.lang.String&nbsp;contentType)
               throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Add a new record containing an attachment to the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - id of executing person</dd>
<dd><code>record</code> - the record to be saved</dd>
<dd><code>alternateAps</code> - alternative target aps</dd>
<dd><code>data</code> - a file input stream containing the file to be stored as attachment</dd>
<dd><code>fileName</code> - the name of the attached file</dd>
<dd><code>contentType</code> - the mime type of the attached file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="addRecord-models.MidataId-models.Record-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRecord</h4>
<pre>public&nbsp;void&nbsp;addRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                      <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record,
                      <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;alternateAps)
               throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Add a new record to the database and give access not only to the owner APS but to a second APS
 
 This function is useful if a record needs to be added by another person that does not have 
 access to the record owners APS. By adding the record to a second APS that the adding person has access
 to it is guaranteed that the executing person does not loose access to the new record.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - id of executing person</dd>
<dd><code>record</code> - the record to be added</dd>
<dd><code>alternateAps</code> - an APS where the executing person has access to. (a consent APS for example)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="updateRecord-models.MidataId-models.MidataId-models.Record-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRecord</h4>
<pre>public&nbsp;java.lang.String&nbsp;updateRecord(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                                     <a href="../../models/Record.html" title="class in models">Record</a>&nbsp;record)
                              throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">update a record in the database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - id of executing person</dd>
<dd><code>record</code> - the record to be updated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new version string of the record</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="wipe-models.MidataId-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wipe</h4>
<pre>public&nbsp;void&nbsp;wipe(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executingPerson,
                 java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query)
          throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Wipe records from the system. Currently only used for debugging purposes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>executingPerson</code> - id of executing person</dd>
<dd><code>tk</code> - a token for the record to be deleted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="applyQuery-models.MidataId-java.util.Map-models.MidataId-models.MidataId-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyQuery</h4>
<pre>public&nbsp;void&nbsp;applyQuery(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId,
                       java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;query,
                       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;sourceaps,
                       <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;targetaps,
                       boolean&nbsp;ownerInformation)
                throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Share stream records from one APS to another by applying a query once.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - id of executing user</dd>
<dd><code>query</code> - to query to be applied</dd>
<dd><code>sourceaps</code> - the source APS id</dd>
<dd><code>targetaps</code> - the target APS id</dd>
<dd><code>ownerInformation</code> - include owner information?</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="deleteAPS-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAPS</h4>
<pre>public&nbsp;void&nbsp;deleteAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                      <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;executorId)
               throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Delete an access permission set</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apsId</code> - id of APS</dd>
<dd><code>ownerId</code> - id of owner of APS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/InternalServerException.html" title="class in utils.exceptions">InternalServerException</a></code></dd>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="list-models.MidataId-models.MidataId-java.util.Map-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../models/Record.html" title="class in models">Record</a>&gt;&nbsp;list(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                   <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                                   java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                                   java.util.Set&lt;java.lang.String&gt;&nbsp;fields)
                            throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Query for records matching some criteria.
 In the result list only those fields of the record need to be filled out that have been requested.
 Additional fields may be set if they were needed to processing the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to access</dd>
<dd><code>properties</code> - key,value map containing the restrictions</dd>
<dd><code>fields</code> - set of fields to return from the query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of records matching properties</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="info-models.MidataId-models.MidataId-java.util.Map-models.enums.AggregationType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>info</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../models/RecordsInfo.html" title="class in models">RecordsInfo</a>&gt;&nbsp;info(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                              <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;aps,
                                              java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties,
                                              <a href="../../models/enums/AggregationType.html" title="enum in models.enums">AggregationType</a>&nbsp;aggrType)
                                       throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">computes a summary of records</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>aps</code> - id of APS to access</dd>
<dd><code>properties</code> - key,value map containing restrictions</dd>
<dd><code>aggrType</code> - level of aggreagtion</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of RecordsInfo objects containing a summary of the records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="fetch-models.MidataId-utils.auth.RecordToken-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;<a href="../../models/Record.html" title="class in models">Record</a>&nbsp;fetch(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                    <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token)
             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Lookup a single record by providing a RecordToken</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>token</code> - token with id of record to return</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the complete record (no attachment)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="fetchFile-models.MidataId-utils.auth.RecordToken-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchFile</h4>
<pre>public&nbsp;<a href="../../utils/db/FileStorage.FileData.html" title="class in utils.db">FileStorage.FileData</a>&nbsp;fetchFile(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                      <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token)
                               throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Lookup a single record by providing a RecordToken and return the attachment of the record</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>token</code> - token with the id of the record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the attachment content</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="fetch-models.MidataId-utils.auth.RecordToken-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;<a href="../../models/Record.html" title="class in models">Record</a>&nbsp;fetch(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                    <a href="../../utils/auth/RecordToken.html" title="class in utils.auth">RecordToken</a>&nbsp;token,
                    java.util.Set&lt;java.lang.String&gt;&nbsp;fields)
             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Lookup a single record by providing a RecordToken and return only requested fields</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>token</code> - token with the id of the record</dd>
<dd><code>fields</code> - set of field names that are required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record to be returned</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="fetch-models.MidataId-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetch</h4>
<pre>public&nbsp;<a href="../../models/Record.html" title="class in models">Record</a>&nbsp;fetch(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;aps,
                    <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;recordId)
             throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Lookup a single record by providing its id and the APS from where it is accessible</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>aps</code> - id of APS</dd>
<dd><code>recordId</code> - id of record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record to be returned</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="listRecordIds-models.MidataId-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listRecordIds</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;listRecordIds(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId)
                                              throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Return a set with all record ids accessible from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set with record ids as strings</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="listRecordIds-models.MidataId-models.MidataId-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listRecordIds</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;listRecordIds(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who,
                                                     <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                                                     java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;properties)
                                              throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">Return a set with all record ids of records matching some criteria accessible from an APS</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>who</code> - id of executing person</dd>
<dd><code>apsId</code> - id of APS to search</dd>
<dd><code>properties</code> - key,value map containing query</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>set with record ids as strings</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="fixAccount-models.MidataId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fixAccount</h4>
<pre>public&nbsp;void&nbsp;fixAccount(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId)
                throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<div class="block">removes info objects and all indexes for the current account</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - id of user</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="checkRecordsInAPS-models.MidataId-models.MidataId-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkRecordsInAPS</h4>
<pre>public&nbsp;void&nbsp;checkRecordsInAPS(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;userId,
                              <a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;apsId,
                              boolean&nbsp;instreams)
                       throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
<a name="patch20160407-models.MidataId-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>patch20160407</h4>
<pre>public&nbsp;void&nbsp;patch20160407(<a href="../../models/MidataId.html" title="class in models">MidataId</a>&nbsp;who)
                   throws <a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/AppException.html" title="class in utils.exceptions">AppException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RecordManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../utils/access/RecordLifecycle.html" title="class in utils.access"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../utils/access/VersionedDBRecord.html" title="class in utils.access"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?utils/access/RecordManager.html" target="_top">Frames</a></li>
<li><a href="RecordManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
