@(messages: List[Message], user: User)

@main(user) {
	<div class="page-header">
		<h1>My messages</h1>
	</div>

	@if(messages.isEmpty()) {
		<p>You have no messages yet.</p>
	} else {
		@messages.groupBy(_.sender).map {
		    case (sender, messages) => {
	   			<div class="panel panel-default">
	   				<div class="panel-heading">
	   					<h3 class="panel-title">User.getName(sender)</h3>
	            	</div>
	            	<div class="panel-body">
	            		<ul id="messages">
	            			@messages.map { message =>
	            				<li message-id="@message._id">
	            					<p><strong>@message.title</strong></p>
	            					@message.content
	            				</li>
	            			}
	            		</ul>
	            	</div>
				</div>
			}
		}
	}
}
