<div ng-if="wizard=='people'" ng-include="'views/people.html'"></div>
<div ng-if="wizard=='measures'" ng-include="'views/measures.html'"></div>
<div ng-if="wizard=='aggregation'" ng-include="'views/aggregation.html'"></div>
<div ng-if="wizard=='timeframe'" ng-include="'views/timeframe.html'"></div>
<div ng-if="wizard=='charttype'" ng-include="'views/charttype.html'"></div>

<div ng-if="!wizard">

<form>
  <div class="extraspace">
	
	 
	  <div ng-show="unsaved" class="alert alert-info">
	    <strong translate="save_question"></strong>
	    <div class="row">
	      <div class="col-sm-4">
	        <button class="btn btn-default" ng-hide="saving" ng-click="saveConfig()" translate="save_setting_btn"></button>    
	        <button class="btn btn-default" disabled="true" ng-show="saving" translate="saving"></button>
	      </div>
	      <div class="col-sm-4" ng-hide="noconfig">
	        <div class="input-group">
	          <input class="form-control" type="text" ng-model="name" translate translate-attr-placeholder="chart_name">
	          <div class="input-group-btn">
	            <button ng-click="add(name)" ng-disabled="!name" ng-hide="saving2" class="btn btn-default" translate="add_btn"></button>
	            <button class="btn btn-default" disabled="true" ng-show="saving2" translate="saving"></button>
	          </div>
	        </div>    
	      </div>
	      <div class="col-sm-4">
	        <button class="btn btn-default" translate="no_save_btn" ng-click="dontSave();"></button>
	      </div>
	    </div>
	  </div>
	  
  </div>
  <div class="form-inline extraspace" ng-hide="chartType=='simple'">
  
  <div class="form-group">
	 <label for="report" translate="report"></label>	    
	 <p class="form-control-static" translate="{{ report.id }}"></p>	    
  </div>
  
  <div class="form-group separator" ng-show="report.filter">
     <label for="filter">{{ report.filterLabel | translate }}:</label>
     <select id="filter"  class="form-control" ng-model="reportInfo.filter" ng-options="f as getLabel(report.filter,f) | translate for f in reportInfo[report.filter]" ng-change="prepareFilter()"></select>
  </div>
  <div class="form-group separator" ng-show="report.filter2">
     <label for="filter2">{{ report.filterLabel2 | translate }}:</label>
     <select id="filter2" class="form-control" ng-model="reportInfo.filter2" ng-options="f as getLabel(report.filter2,f) | translate for f in reportInfo[report.filter2]" ng-change="update()"></select>
  </div>
 
  </div>
  <div class="form-inline extraspace"  ng-hide="chartType=='simple'">
  <div class="form-group">
     <label for="timing" translate="time"></label>
     <select id="timing"  class="form-control" ng-model="reportInfo.timing" ng-options="t.value as t.label | translate for t in timings" ng-change="prepareFilter();"></select>
  </div>
  <div class="form-group" ng-show="reportInfo.timing==0">
  <label for="minDate" translate="from"></label>
  </div><div class="form-group" ng-show="reportInfo.timing==0">
  <div class="input-group">
     <input id="minDate" type="text" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-change="prepareFilter();" ng-model="minDate" is-open="datePickers.fromTimeOpened" datepicker-options="dateOptions" ng-required="false" close-text="Close" />
     <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="datePickers.fromTimeOpened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
     </span>
  </div>
  </div>
  
  <div class="form-group separator" ng-show="reportInfo.timing==0">
  <label for="maxDate" translate="to"></label>
  </div><div class="form-group" ng-show="reportInfo.timing==0">
  <div class="input-group">
     <input id="maxDate" type="text" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-change="prepareFilter();" ng-model="maxDate" is-open="datePickers.toTimeOpened" datepicker-options="dateOptions" ng-required="false" close-text="Close" />
     <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="datePickers.toTimeOpened=true;"><i class="glyphicon glyphicon-calendar"></i></button>
     </span>
  </div>
  </div>
  
  
 </div>
</form>
<p ng-show="report.unit"><span translate="unit"></span>: {{ report.unit }}</p>
<div ng-show="entries.length==0" class="alert alert-warning">
  <strong translate="empty"></strong>  
</div>

<div class="alert alert-info" ng-show="chartType=='calculation'" translate="wait">  
</div>

<div ng-if="chartType=='update'">
  <div style="min-height:500px">
    <button class="btn btn-primary" ng-click="doDelayedUpdate();" translate="update_btn"></button>
  </div>
</div>

<div ng-if="chartType=='line'">
<canvas id="line" class="chart chart-line" data="data"
  labels="labels" legend="true" series="series"
  click="onClick">
</canvas> 
</div>

<div ng-if="chartType=='bar'">
<canvas id="bar" legend="true" class="chart chart-bar" data="data" labels="labels" series="series"></canvas>
</div>

<div ng-if="chartType=='pie'">
<canvas id="doughnut" class="chart chart-doughnut" data="data" labels="labels"></canvas>
</div>

<div ng-if="chartType=='radar'">
<canvas id="radar" class="chart chart-radar" data="data" labels="labels" series="series"></canvas>
</div>
   
<div ng-if="chartType=='simple' && entries.length>0">
  <div class="text-center text-primary"><span translate="measure"></span>: <b>{{ entry.format }}</b></div>
  <div ng-show="entry.context" class="text-center"><span translate="code"></span>: <i>{{ entry.context }}</i></div>
  <div class="text-center lead"><span style="color: #1c4982;display: block;font-size: 100px;">{{ entry.value }}</span>{{ entry.unit }}</div>
  <div class="text-center"><span translate="date"></span>: <strong>{{ entry.dateTime }}</strong></div>
</div>

<button ng-hide="unsaved" class="btn btn-primary" translate="new_report_btn" ng-click="next('people');"></button>
	
</div>